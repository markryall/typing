<!DOCTYPE html>
<html lang="en">
	<head>
		<style>
			body {
					font-family: monospace;
					font-size: 18px;
					background-color: #000;
					color: #FFF;
			}
			#container {
				width: 600px;
				margin-top: 100px;
				margin-right: auto;
				margin-left: auto;
				}
			.right { color: greenyellow; }
			.wrong { color: orangered; }
		</style>
	</head>
	<body>
	<div id="container">
		<div id="content"></div>
	</div>

	<script type="text/javascript" charset="utf-8">
		function ts() {
			return (new Date()).getTime();
		}

		const startTime = ts();
		let currentTime = startTime;
		const progress = [];
		const events = [];
		const corpus = "whatever";

		const contentElement = document.getElementById( 'content' );

		function renderProgress() {
			let content = '';

			progress.forEach(function(key) {
				const style = key.expected === key.actual ? 'right' : 'wrong';
				content += `<span class="${style}">${key.actual}</span>`;
			});

			for( let index=progress.length; index < corpus.length; index++ ) {
				content += corpus[index];
			}

			contentElement.innerHTML = content;
		}

		renderProgress();

		document.onkeyup = function (event) {
			const newTime = ts();
			if (event.key.length === 1) {
				const expected = corpus[progress.length];
				const actual = event.key;
				const delay = newTime - currentTime;

				progress.push({ expected, actual, delay });
				renderProgress();
				currentTime = newTime;
			}
			if (event.code === 'Backspace') {
				progress.splice(-1, 1);
				renderProgress();
			}
		}
		</script>
	</body>
</html>
